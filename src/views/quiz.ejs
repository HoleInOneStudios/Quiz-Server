<%- include("header.ejs")%>

<link rel="preload" href="/images/backgrounds/space_bg.jpg" as="image" crossorigin="anonymous" />
<link rel="preload" href="/images/hint_people/Hint-Person-Placeholder.png" as="image" crossorigin="anonymous" />


<% for (var i = 0; i < message.length; i++) { %>
<% if (message[i].Background) { %>
<link rel="preload" href="<%=message[i].BackgroundImage%>" as="image" crossorigin="anonymous" />
<% } %>
<% } %>

<% for (var i = 0; i < message.length; i++) { %>
<% if (message[i].HintImage) { %>
<link rel="preload" href="<%=message[i].HintImage%>" as=" image" crossorigin="anonymous" />
<% } %>
<% } %>




</head>

<body>
    <div style="display: none;">
        <audio id="correct_Audio" controls>
            <source src="/audio/notification-sound-7062.mp3" type="audio/mpeg">
        </audio>
        <audio id="incorrect_Audio" controls>
            <source src="/audio/playernocanselect-37979.mp3" type="audio/mpeg">
        </audio>
    </div>
    <main id=" root" title="main" class="contrast-bg">
        <span id="sheet-data" style="display: none;"><%= JSON.stringify(message) %></span>

        <quiz-container title="all quiz elements container">
            <quiz-title class="contrast-el"><%= title%></quiz-title>
            <quiz-info title="quiz info container">
                <quiz-score title="quiz score percent"></quiz-score>
                <quiz-status title="quiz question currently on"></quiz-status>
            </quiz-info>

            <quiz-question title="quiz question and answers">
                <quiz-question-text title="quiz question text container"></quiz-question-text>
                <quiz-answer-container title="quiz answer choices">
                    <quiz-answer onclick="checkAnswers(this)" answer="1" title="answer choice 1"></quiz-answer>
                    <quiz-answer onclick="checkAnswers(this)" answer="2" title="answer choice 2"></quiz-answer>
                    <quiz-answer onclick="checkAnswers(this)" answer="3" title="answer choice 3"></quiz-answer>
                    <quiz-answer onclick="checkAnswers(this)" answer="4" title="answer choice 4"></quiz-answer>
                </quiz-answer-container>
            </quiz-question>

            <quiz-hint title="quiz hint element container">
                <p style="margin: 0; background-color: var(--background-secondary); font-size: 1vw;">Press me for a
                    hint</p>
                <quiz-hint-toggle title="quiz hint toggle"></quiz-hint-toggle>
                <quiz-hint-text title="quiz hint text"></quiz-hint-text>
            </quiz-hint>

            <quiz-audio-toggle onclick="toggleAudio();" class="material-symbols-outlined">
                volume_up
            </quiz-audio-toggle>

            <quiz-navigation title="quiz navigation button container">
                <quiz-restart title="restart quiz button"></quiz-restart>
                <quiz-back title="back question button"></quiz-back>
                <quiz-next title="next question button"></quiz-next>
            </quiz-navigation>

            <quiz-finish class="hidden">
                <h2>Congratulations</h2>
                <p>You have completed the quiz!</p>
                <span id="quiz-finish"></span>
                <button onclick="restart();">Restart</button>
            </quiz-finish>
        </quiz-container>

    </main>

    <script src="./javascripts/service.js" defer>
        a.init();
    </script>
    <script src="./javascripts/quiz.js"></script>
</body>
