<%- include("header.ejs")%>


<!--Preload Default Background Image-->
<link rel="preload" href="/public/images/backgrounds/placeholder.jpg" as="image" crossorigin="anonymous" />
<!--Preload Background Images-->
<% for (var i = 0; i < message.length; i++) { %>
<% if (message[i].BackgroundImage) { %>
<link rel="preload" href="./img/<%=message[i].BackgroundImage%>" as="image" crossorigin="anonymous" />
<% } %>
<% } %>

<!--Preload Default Hint Image-->
<link rel="preload" href="/public/images/hint_people/Hint-Person-Placeholder.png" as="image" crossorigin="anonymous" />
<!--Preload Hint Images-->
<% for (var i = 0; i < message.length; i++) { %>
<% if (message[i].HintImage) { %>
<link rel="preload" href="./img/<%=message[i].HintImage%>" as=" image" crossorigin="anonymous" />
<% } %>
<% } %>

<!--Preload Logo-->
<link rel="preload" href="./img/logo.png" as="image" crossorigin="anonymous" />

</head>

<body>
    <div style="display: none;">
        <audio id="correct_Audio" controls>
            <source src="/public/audio/notification-sound-7062.mp3" type="audio/mpeg">
        </audio>
        <audio id="incorrect_Audio" controls>
            <source src="/public/audio/playernocanselect-37979.mp3" type="audio/mpeg">
        </audio>
    </div>
    <span id="sheet-data" style="display: none;"><%= JSON.stringify(message) %></span>
    <main id=" root" title="main" class="contrast-bg">
        <quiz-start>
            <quiz-title><%= title%></quiz-title>
            <p style="font-size: 7vh">How much do you know?</p>
            <quiz-start-button class="button" onclick="setStateMain()">Begin!</quiz-start-button>
        </quiz-start>

        <quiz-main>
            <quiz-title><%= title%></quiz-title>
            <quiz-question></quiz-question>
            <quiz-answers>
                <quiz-answer class="button"></quiz-answer>
                <quiz-answer class="button"></quiz-answer>
                <quiz-answer class="button"></quiz-answer>
                <quiz-answer class="button"></quiz-answer>
            </quiz-answers>

            <quiz-status>
                <quiz-current-question></quiz-current-question>
                <quiz-score></quiz-score>
                <quiz-tries></quiz-tries>
            </quiz-status>


            <quiz-hint>
                <quiz-hint-toggle></quiz-hint-toggle>
                <quiz-hint-text>?</quiz-hint-text>
            </quiz-hint>

            <quiz-nav>
                <quiz-next class="material-symbols-outlined"></quiz-next>
                <quiz-restart class="material-symbols-outlined"></quiz-restart>
            </quiz-nav>
        </quiz-main>

        <quiz-finish>
            <quiz-title><%= title%></quiz-title>
            <quiz-results>
                <h2>Congratulations</h2>
                <p>You have completed the quiz!</p>
                <p>Your score is:</p>
            </quiz-results>
            <quiz-restart class="button" onclick="setStateStart()">
                Restart!
            </quiz-restart>
        </quiz-finish>
        <quiz-audio-toggle class="material-symbols-outlined"></quiz-audio-toggle>
        <quiz-logo></quiz-logo>
    </main>

    <script src="./public/javascripts/service.js" defer>
    </script>
    <script src="./public/javascripts/quiz.js">
    </script>
</body>
